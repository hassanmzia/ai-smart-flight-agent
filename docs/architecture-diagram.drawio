<mxfile host="app.diagrams.net" modified="2026-02-10T20:00:00.000Z" agent="Claude AI" version="22.0.0">
  <diagram name="AI Travel Agent Architecture" id="ai-travel-agent-arch">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="AI Smart Flight Agent - Technical Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- User Layer -->
        <mxCell id="user" value="ðŸ‘¤ End User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="750" y="100" width="100" height="100" as="geometry" />
        </mxCell>

        <!-- Nginx -->
        <mxCell id="nginx" value="Nginx Reverse Proxy&#xa;Port 80&#xa;Load Balancing &amp; SSL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="650" y="240" width="300" height="60" as="geometry" />
        </mxCell>

        <mxCell id="user-nginx" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="user" target="nginx">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Frontend Layer -->
        <mxCell id="frontend-box" value="Frontend Application" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="360" width="300" height="220" as="geometry" />
        </mxCell>

        <mxCell id="react" value="React 18 + TypeScript" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;" vertex="1" parent="frontend-box">
          <mxGeometry x="20" y="40" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="vite" value="Vite Build Tool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;" vertex="1" parent="frontend-box">
          <mxGeometry x="20" y="80" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="tailwind" value="TailwindCSS + Zustand" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;" vertex="1" parent="frontend-box">
          <mxGeometry x="20" y="120" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="frontend-port" value="Port: 3090" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;fontSize=10;fontStyle=1" vertex="1" parent="frontend-box">
          <mxGeometry x="20" y="170" width="260" height="30" as="geometry" />
        </mxCell>

        <!-- Backend Layer -->
        <mxCell id="backend-box" value="Backend Application" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="360" width="300" height="340" as="geometry" />
        </mxCell>

        <mxCell id="django" value="Django 5.0 + DRF" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="40" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="channels" value="Django Channels (WebSocket)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="80" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="celery" value="Celery (Async Tasks)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="120" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="jwt" value="JWT Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="160" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="rest" value="RESTful API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="200" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="swagger" value="Swagger/OpenAPI Docs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="240" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="backend-port" value="Port: 8109" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;fontSize=10;fontStyle=1" vertex="1" parent="backend-box">
          <mxGeometry x="20" y="290" width="260" height="30" as="geometry" />
        </mxCell>

        <!-- MCP Server Layer -->
        <mxCell id="mcp-box" value="MCP Server (Agent Communication)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1000" y="360" width="300" height="160" as="geometry" />
        </mxCell>

        <mxCell id="fastapi" value="FastAPI Framework" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6e6;strokeColor=#b85450;" vertex="1" parent="mcp-box">
          <mxGeometry x="20" y="40" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="mcp-protocol" value="Model Context Protocol" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6e6;strokeColor=#b85450;" vertex="1" parent="mcp-box">
          <mxGeometry x="20" y="80" width="260" height="30" as="geometry" />
        </mxCell>

        <mxCell id="mcp-port" value="Port: 8107" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;fontSize=10;fontStyle=1" vertex="1" parent="mcp-box">
          <mxGeometry x="20" y="120" width="260" height="30" as="geometry" />
        </mxCell>

        <!-- Multi-Agent System -->
        <mxCell id="agents-box" value="ðŸ¤– Multi-Agent AI System (LangGraph)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#8e24aa;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="760" width="700" height="280" as="geometry" />
        </mxCell>

        <mxCell id="manager-agent" value="Manager Agent&#xa;(Orchestration)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ce93d8;strokeColor=#8e24aa;fontSize=11;fontStyle=1" vertex="1" parent="agents-box">
          <mxGeometry x="240" y="40" width="220" height="50" as="geometry" />
        </mxCell>

        <mxCell id="flight-agent" value="Flight Agent&#xa;(SerpAPI Google Flights)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;fontSize=10" vertex="1" parent="agents-box">
          <mxGeometry x="20" y="120" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="hotel-agent" value="Hotel Agent&#xa;(SerpAPI Google Hotels)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;fontSize=10" vertex="1" parent="agents-box">
          <mxGeometry x="190" y="120" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="goal-agent" value="Goal-Based Agent&#xa;(Budget Evaluation)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ab47bc;strokeColor=#6a1b9a;fontSize=10" vertex="1" parent="agents-box">
          <mxGeometry x="20" y="200" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="utility-agent" value="Utility-Based Agent&#xa;(Price + Quality Score)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ab47bc;strokeColor=#6a1b9a;fontSize=10" vertex="1" parent="agents-box">
          <mxGeometry x="190" y="200" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="weather-agent" value="Weather Agent&#xa;(Forecast Data)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;fontSize=10" vertex="1" parent="agents-box">
          <mxGeometry x="360" y="120" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="langchain" value="LangChain + LangGraph&#xa;State Management &amp; Workflow" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#8e24aa;fontSize=11;fontStyle=1" vertex="1" parent="agents-box">
          <mxGeometry x="360" y="200" width="320" height="50" as="geometry" />
        </mxCell>

        <!-- Database Layer -->
        <mxCell id="postgres" value="PostgreSQL 15&#xa;Main Database&#xa;Port: 5438" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="760" width="140" height="100" as="geometry" />
        </mxCell>

        <mxCell id="redis" value="Redis 7&#xa;Cache &amp; Session&#xa;Port: 6384" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="900" width="140" height="100" as="geometry" />
        </mxCell>

        <mxCell id="rabbitmq" value="RabbitMQ&#xa;Message Queue&#xa;Port: 5673" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="380" y="900" width="140" height="100" as="geometry" />
        </mxCell>

        <!-- External Services -->
        <mxCell id="external-box" value="External Services &amp; APIs" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#ffc107;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1000" y="760" width="300" height="280" as="geometry" />
        </mxCell>

        <mxCell id="openai" value="ðŸ§  OpenAI GPT-4&#xa;LLM Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ffa000;fontSize=10" vertex="1" parent="external-box">
          <mxGeometry x="20" y="40" width="260" height="40" as="geometry" />
        </mxCell>

        <mxCell id="serpapi" value="ðŸ” SerpAPI&#xa;Google Flights &amp; Hotels" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ffa000;fontSize=10" vertex="1" parent="external-box">
          <mxGeometry x="20" y="90" width="260" height="40" as="geometry" />
        </mxCell>

        <mxCell id="stripe" value="ðŸ’³ Stripe&#xa;Payment Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ffa000;fontSize=10" vertex="1" parent="external-box">
          <mxGeometry x="20" y="140" width="260" height="40" as="geometry" />
        </mxCell>

        <mxCell id="weather-api" value="ðŸŒ¤ï¸ Weather API&#xa;Forecast Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ffa000;fontSize=10" vertex="1" parent="external-box">
          <mxGeometry x="20" y="190" width="260" height="40" as="geometry" />
        </mxCell>

        <mxCell id="smtp" value="ðŸ“§ SMTP Server&#xa;Email Notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#ffa000;fontSize=10" vertex="1" parent="external-box">
          <mxGeometry x="20" y="240" width="260" height="30" as="geometry" />
        </mxCell>

        <!-- Applications Layer -->
        <mxCell id="apps-box" value="Django Applications" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#43a047;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="1100" width="700" height="140" as="geometry" />
        </mxCell>

        <mxCell id="app-users" value="users" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="20" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-flights" value="flights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="110" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-hotels" value="hotels" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="200" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-bookings" value="bookings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="290" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-payments" value="payments" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="380" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-agents" value="agents" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="470" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-itineraries" value="itineraries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="560" y="40" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-analytics" value="analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="20" y="80" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-reviews" value="reviews" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="110" y="80" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-notifications" value="notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="200" y="80" width="100" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-cars" value="car_rentals" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="310" y="80" width="90" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-restaurants" value="restaurants" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="410" y="80" width="100" height="30" as="geometry" />
        </mxCell>

        <mxCell id="app-attractions" value="attractions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#388e3c;fontSize=10" vertex="1" parent="apps-box">
          <mxGeometry x="520" y="80" width="90" height="30" as="geometry" />
        </mxCell>

        <!-- Connections -->
        <mxCell id="nginx-frontend" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="nginx" target="frontend-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="nginx-backend" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d79b00;" edge="1" parent="1" source="nginx" target="backend-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="nginx-mcp" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="nginx" target="mcp-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="backend-agents" value="Uses" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#8e24aa;dashed=1;" edge="1" parent="1" source="backend-box" target="agents-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="backend-postgres" value="CRUD" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="backend-box" target="postgres">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="backend-redis" value="Cache" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d6b656;" edge="1" parent="1" source="backend-box" target="redis">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="backend-rabbitmq" value="Tasks" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="backend-box" target="rabbitmq">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="agents-external" value="API Calls" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ffa000;dashed=1;" edge="1" parent="1" source="agents-box" target="external-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="backend-apps" value="Contains" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#43a047;dashed=1;" edge="1" parent="1" source="backend-box" target="apps-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-box" value="Legend" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1000" y="1100" width="300" height="140" as="geometry" />
        </mxCell>

        <mxCell id="legend-solid" value="Direct Communication" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=10;align=left;" vertex="1" parent="legend-box">
          <mxGeometry x="20" y="30" width="260" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-dashed" value="Indirect/API Communication" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=10;align=left;dashed=1;" vertex="1" parent="legend-box">
          <mxGeometry x="20" y="60" width="260" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-data" value="ðŸ—„ï¸ Data Storage" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;" vertex="1" parent="legend-box">
          <mxGeometry x="20" y="90" width="120" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-external" value="â˜ï¸ External Service" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#ffc107;fontSize=10;align=left;" vertex="1" parent="legend-box">
          <mxGeometry x="160" y="90" width="120" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
